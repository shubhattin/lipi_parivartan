{%- if all_tests_passed -%}

# ✅ All Tests passed
{%- else -%}
# ❌ Some Tests failed
{% endif %}

{%- for test_case in test_info %}
{%- if test_case.report_test_fail_if_found %}
## {% if test_case.failed_cases|length == 0 %}✔{% else %}✗{% endif %} {{ test_case.test_title|safe }}

{% if test_case.failed_cases|length > 0 -%}
{{test_case.test_info|safe}}

Total: {{test_case.failed_cases|length}}

{# We have to segment results into sarga 1 to 7 #}
{%- for sarga_num in range(1,8) %}
{%- set starting_with_sarga = filter_function(test_case.failed_cases, sarga_num) -%}
{%- if starting_with_sarga|length > 0 %}
- **_Sarga {{sarga_num}}_**, Σ={{starting_with_sarga|length}} : `{{"`, `".join(starting_with_sarga)|safe}}`
{%- endif -%}
{% endfor %}
{%- endif %}

{%- endif %}
{%- endfor %}

## :warning: Checks that need Manual Verification and Attention

{%- for test_case in test_info %}
{%- if not test_case.report_test_fail_if_found %}
## {% if test_case.failed_cases|length == 0 %}✔{% endif %} {{ test_case.test_title|safe }}

{% if test_case.failed_cases|length > 0 -%}
{{test_case.test_info|safe}}

Total: {{test_case.failed_cases|length}}

{# We have to segment results into sarga 1 to 7 #}
{%- for sarga_num in range(1,8) %}
{%- set starting_with_sarga = filter_function(test_case.failed_cases, sarga_num) -%}
{%- if starting_with_sarga|length > 0 %}
- **_Sarga {{sarga_num}}_**, Σ={{starting_with_sarga|length}} : `{{"`, `".join(starting_with_sarga)|safe}}`
{%- endif -%}
{% endfor %}
{%- endif %}

{%- endif %}
{%- endfor %}